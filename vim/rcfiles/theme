" Enable syntax processing.
syntax on

" Highlight current line.
set cursorline

" Show line numbers.
set number

" Show relative line numbers.
set relativenumber

" Set a line at column 81.
set colorcolumn=81

" Visual autocomplete for command menu.
set wildmenu

" Highlight matching [{()}].
set showmatch

" Search as characters are entered.
set incsearch

" Highlight matches.
set hlsearch

" Show tabs as chars so it is visible.
set list
set listchars=tab:>-

" Set colorscheme.
set background=dark
set t_Co=256
if exists('+termguicolors')
  set termguicolors
endif
colorscheme solarized

" Modify colors for solarized.
hi clear SignColumn
hi CursorLine ctermbg=0 guibg=DarkCyan guifg=White
hi ColorColumn ctermbg=0 guibg=Grey40
hi LineNr ctermfg=254 guifg=#e4e4e4
hi DiffAdd guifg=White guibg=DarkCyan
hi DiffChange guifg=White guibg=DarkYellow
hi DiffDelete guifg=Black guibg=#ffa0a0
hi default link GitGutterAdd DiffAdd
hi default link GitGutterChange DiffChange
hi default link GitGutterDelete DiffDelete
hi DbgBreakptSign guifg=Black guibg=Cyan
hi DbgBreakptLine guifg=Black guibg=Cyan
hi PMenu guibg=DarkBlue
hi PMenuSel guibg=Cyan
hi SpecialKey guifg=black guibg=red
hi LightlineRight_active_warning guifg=black guibg=yellow
hi LightlineRight_active_error guifg=white guibg=red

" Clear links for doxygen sections that were linked to Todo by
" vim-plugin-for-drupal.
hi link doxygenBrief NONE
hi link doxygenSpecialTypeOnelineDesc NONE

" Set the lightline colorscheme.
source ~/.vimrc-solarizedcustom-lightline
let g:lightline = {
      \ 'colorscheme': 'solarizedcustom',
      \ 'component': {
      \   'modified': '%#ModifiedColor#%{LightlineModified()}',
      \ }
      \ }

let g:lightline.component_expand = {
      \  'linter_checking': 'lightline#ale#checking',
      \  'linter_warnings': 'lightline#ale#warnings',
      \  'linter_errors': 'lightline#ale#errors',
      \  'linter_ok': 'lightline#ale#ok',
      \ }

let g:lightline.component_type = {
      \     'linter_checking': 'left',
      \     'linter_warnings': 'warning',
      \     'linter_errors': 'error',
      \     'linter_ok': 'left',
      \ }

let g:lightline#ale#indicator_checking = "\uf110 "
let g:lightline#ale#indicator_warnings = "\uf071 "
let g:lightline#ale#indicator_errors = "\uf05e "
let g:lightline#ale#indicator_ok = "\uf00c "

" Set the active right side to include ale linting.
let g:lightline.active = { 'right': [
      \     [
      \         'linter_checking', 'linter_errors',
      \         'linter_warnings', 'linter_ok'
      \     ],
      \     [ 'lineinfo' ],
      \     [ 'percent' ],
      \     [ 'fileformat', 'fileencoding', 'filetype', 'charvaluehex' ]
      \ ] }

function! LightlineModified()
  if !has('nvim')
    if &modified
      exe printf('hi ModifiedColor guifg=Black guibg=Yellow term=bold cterm=bold')
      return ' +'
    elseif &modifiable
      exe printf('hi ModifiedColor guifg=White guibg=#657b83 term=bold cterm=bold')
      return ''
    else
      exe printf('hi ModifiedColor guifg=White guibg=Magenta term=bold cterm=bold')
      return ' -'
    endif
  endif
endfunction

" Update status line for lightline plugin.
set laststatus=2

" vim:ft=vim
